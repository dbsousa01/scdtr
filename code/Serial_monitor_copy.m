clear; close all; clc;

values = [203.80,0,1.97;
196.40,0,1.84;
188.00,0,1.71;
180.00,0,1.58;
172.60,0,1.47;
167.00,0,1.39;
161.00,0,1.30;
155.60,0,1.23;
150.00,0,1.15;
143.80,0,1.07;
140.00,0,1.03;
135.20,0,0.97;
131.20,0,0.92;
127.20,0,0.88;
123.60,0,0.84;
120.20,0,0.80;
116.80,0,0.76;
114.20,0,0.73;
110.60,0,0.70;
107.40,0,0.66;
105.20,0,0.64;
102.00,0,0.61;
100.40,0,0.60;
97.60,0,0.57;
94.60,0,0.54;
256.00,10,3.01;
255.40,10,3.00;
254.80,10,2.99;
255.60,10,3.00;
255.40,10,3.00;
254.20,10,2.97;
254.20,10,2.97;
255.20,10,2.99;
254.40,10,2.98;
255.00,10,2.99;
253.60,10,2.96;
254.20,10,2.97;
254.00,10,2.97;
254.20,10,2.97;
253.20,10,2.95;
253.20,10,2.95;
253.40,10,2.95;
253.00,10,2.95;
254.00,10,2.97;
253.00,10,2.95;
252.40,10,2.93;
251.60,10,2.91;
252.80,10,2.94;
328.20,20,4.98;
329.00,20,5.00;
330.20,20,5.04;
330.40,20,5.05;
330.60,20,5.05;
330.20,20,5.04;
331.00,20,5.07;
332.60,20,5.12;
332.00,20,5.10;
332.20,20,5.11;
332.20,20,5.11;
332.00,20,5.10;
333.40,20,5.15;
332.80,20,5.13;
333.40,20,5.15;
332.80,20,5.13;
333.20,20,5.14;
333.80,20,5.16;
334.20,20,5.17;
333.80,20,5.16;
333.40,20,5.15;
334.00,20,5.17;
334.00,20,5.17;
389.40,30,7.28;
390.00,30,7.31;
390.80,30,7.34;
391.00,30,7.35;
391.00,30,7.35;
392.20,30,7.40;
391.80,30,7.38;
391.20,30,7.36;
392.00,30,7.39;
392.40,30,7.41;
392.80,30,7.43;
392.60,30,7.42;
392.60,30,7.42;
393.60,30,7.46;
393.20,30,7.45;
393.40,30,7.46;
394.00,30,7.48;
393.20,30,7.45;
393.40,30,7.46;
394.20,30,7.49;
393.60,30,7.46;
393.80,30,7.47;
393.20,30,7.45;
436.40,40,9.59;
436.80,40,9.62;
438.20,40,9.69;
437.20,40,9.64;
437.80,40,9.67;
437.80,40,9.67;
438.60,40,9.72;
438.80,40,9.73;
438.60,40,9.72;
438.80,40,9.73;
438.80,40,9.73;
438.40,40,9.71;
438.60,40,9.72;
438.60,40,9.72;
439.00,40,9.74;
439.40,40,9.76;
439.60,40,9.77;
439.00,40,9.74;
439.20,40,9.75;
439.20,40,9.75;
439.80,40,9.78;
439.60,40,9.77;
439.40,40,9.76;
474.00,50,11.90;
474.80,50,11.95;
475.20,50,11.98;
474.20,50,11.91;
475.20,50,11.98;
475.60,50,12.01;
474.20,50,11.91;
475.20,50,11.98;
475.80,50,12.02;
475.00,50,11.96;
476.00,50,12.03;
476.20,50,12.05;
475.40,50,11.99;
475.40,50,11.99;
476.00,50,12.03;
475.40,50,11.99;
476.20,50,12.05;
476.60,50,12.07;
476.00,50,12.03;
476.00,50,12.03;
477.00,50,12.10;
476.60,50,12.07;
504.60,60,14.15;
505.40,60,14.21;
506.20,60,14.28;
505.60,60,14.23;
506.40,60,14.29;
506.00,60,14.26;
505.20,60,14.20;
506.20,60,14.28;
507.20,60,14.36;
505.40,60,14.21;
506.20,60,14.28;
506.60,60,14.31;
505.80,60,14.24;
506.60,60,14.31;
506.00,60,14.26;
506.20,60,14.28;
506.00,60,14.26;
506.20,60,14.28;
506.20,60,14.28;
506.80,60,14.33;
506.80,60,14.33;
506.20,60,14.28;
506.80,60,14.33;
532.20,70,16.54;
531.00,70,16.42;
531.60,70,16.48;
532.80,70,16.59;
531.40,70,16.46;
531.40,70,16.46;
532.60,70,16.57;
531.60,70,16.48;
532.20,70,16.54;
533.20,70,16.63;
532.20,70,16.54;
532.60,70,16.57;
532.60,70,16.57;
532.40,70,16.56;
532.80,70,16.59;
532.20,70,16.54;
532.20,70,16.54;
532.40,70,16.56;
532.80,70,16.59;
532.00,70,16.52;
533.20,70,16.63;
533.00,70,16.61;
532.40,70,16.56;
553.40,80,18.65;
555.00,80,18.82;
553.80,80,18.69;
554.60,80,18.78;
555.40,80,18.86;
554.40,80,18.76;
554.60,80,18.78;
555.00,80,18.82;
554.80,80,18.80;
554.40,80,18.76;
555.60,80,18.89;
554.20,80,18.74;
555.20,80,18.84;
555.20,80,18.84;
554.40,80,18.76;
555.40,80,18.86;
555.40,80,18.86;
554.60,80,18.78;
554.80,80,18.80;
555.60,80,18.89;
555.00,80,18.82;
555.40,80,18.86;
555.20,80,18.84;
574.00,90,20.98;
574.00,90,20.98;
574.60,90,21.05;
574.00,90,20.98;
573.00,90,20.86;
575.00,90,21.10;
574.00,90,20.98;
573.60,90,20.93;
574.80,90,21.07;
574.40,90,21.03;
573.80,90,20.95;
574.60,90,21.05;
573.80,90,20.95;
573.60,90,20.93;
575.00,90,21.10;
574.40,90,21.03;
574.00,90,20.98;
575.00,90,21.10;
574.20,90,21.00;
573.80,90,20.95;
574.80,90,21.07;
575.20,90,21.12;
574.20,90,21.00;
591.00,100,23.14;
591.40,100,23.19;
591.00,100,23.14;
592.00,100,23.27;
591.60,100,23.22;
591.00,100,23.14;
592.00,100,23.27;
590.60,100,23.08;
591.80,100,23.24;
592.40,100,23.33;
591.20,100,23.16;
591.60,100,23.22;
591.00,100,23.14;
591.60,100,23.22;
592.00,100,23.27;
590.80,100,23.11;
593.00,100,23.41;
591.20,100,23.16;
591.60,100,23.22;
592.20,100,23.30;
591.40,100,23.19;
592.00,100,23.27;
607.40,110,25.46;
606.40,110,25.31;
607.40,110,25.46;
606.60,110,25.34;
606.40,110,25.31;
607.40,110,25.46;
606.20,110,25.28;
607.00,110,25.40;
607.60,110,25.49;
606.40,110,25.31;
607.60,110,25.49;
606.60,110,25.34;
606.80,110,25.37;
608.00,110,25.54;
606.60,110,25.34;
606.80,110,25.37;
607.40,110,25.46;
606.20,110,25.28;
607.60,110,25.49;
606.80,110,25.37;
606.60,110,25.34;
607.60,110,25.49;
620.60,120,27.51;
619.80,120,27.38;
621.60,120,27.68;
620.40,120,27.48;
620.80,120,27.54;
620.80,120,27.54;
620.00,120,27.41;
621.00,120,27.58;
620.60,120,27.51;
620.80,120,27.54;
621.80,120,27.71;
620.80,120,27.54;
620.40,120,27.48;
621.20,120,27.61;
619.40,120,27.32;
621.20,120,27.61;
621.00,120,27.58;
620.40,120,27.48;
621.80,120,27.71;
620.20,120,27.45;
620.00,120,27.41;
621.20,120,27.61;
633.40,130,29.69;
632.60,130,29.55;
634.60,130,29.91;
632.20,130,29.48;
633.00,130,29.62;
634.20,130,29.83;
632.40,130,29.51;
633.80,130,29.76;
633.60,130,29.73;
632.40,130,29.51;
634.00,130,29.80;
633.40,130,29.69;
632.80,130,29.58;
634.40,130,29.87;
632.60,130,29.55;
633.80,130,29.76;
633.00,130,29.62;
632.60,130,29.55;
634.60,130,29.91;
633.00,130,29.62;
633.60,130,29.73;
633.80,130,29.76;
644.40,140,31.73;
644.40,140,31.73;
645.60,140,31.96;
644.40,140,31.73;
644.80,140,31.80;
644.60,140,31.76;
643.60,140,31.57;
645.00,140,31.84;
644.40,140,31.73;
644.20,140,31.69;
645.40,140,31.92;
644.80,140,31.80;
644.80,140,31.80;
645.40,140,31.92;
644.20,140,31.69;
645.00,140,31.84;
645.00,140,31.84;
644.00,140,31.65;
645.60,140,31.96;
644.80,140,31.80;
644.80,140,31.80;
645.60,140,31.96;
655.40,150,33.93;
654.20,150,33.68;
656.00,150,34.05;
655.20,150,33.88;
655.40,150,33.93;
655.80,150,34.01;
654.80,150,33.80;
655.00,150,33.84;
655.40,150,33.93;
654.60,150,33.76;
656.00,150,34.05;
655.00,150,33.84;
655.40,150,33.93;
656.00,150,34.05;
654.60,150,33.76;
656.20,150,34.09;
654.80,150,33.80;
654.80,150,33.80;
656.40,150,34.14;
655.20,150,33.88;
655.80,150,34.01;
655.40,150,33.93;
664.40,160,35.86;
665.40,160,36.09;
666.20,160,36.27;
664.40,160,35.86;
666.40,160,36.31;
664.60,160,35.91;
664.80,160,35.95;
665.60,160,36.13;
664.20,160,35.82;
665.00,160,36.00;
665.00,160,36.00;
663.80,160,35.73;
666.00,160,36.22;
664.60,160,35.91;
664.20,160,35.82;
665.40,160,36.09;
664.60,160,35.91;
665.20,160,36.04;
665.20,160,36.04;
664.80,160,35.95;
665.60,160,36.13;
664.80,160,35.95;
673.40,170,37.94;
675.00,170,38.32;
673.80,170,38.03;
674.00,170,38.08;
674.20,170,38.13;
673.60,170,37.98;
674.20,170,38.13;
674.00,170,38.08;
673.60,170,37.98;
674.80,170,38.27;
673.00,170,37.84;
673.80,170,38.03;
674.80,170,38.27;
672.80,170,37.79;
675.40,170,38.42;
673.80,170,38.03;
674.40,170,38.17;
675.00,170,38.32;
674.00,170,38.08;
674.40,170,38.17;
673.60,170,37.98;
673.40,170,37.94;
682.40,180,40.16;
683.00,180,40.31;
681.20,180,39.85;
684.20,180,40.62;
681.60,180,39.95;
682.20,180,40.10;
683.20,180,40.36;
682.00,180,40.05;
682.80,180,40.26;
682.20,180,40.10;
681.80,180,40.00;
683.20,180,40.36;
682.20,180,40.10;
682.20,180,40.10;
683.40,180,40.41;
682.40,180,40.16;
683.20,180,40.36;
682.40,180,40.16;
682.00,180,40.05;
683.60,180,40.46;
682.00,180,40.05;
682.20,180,40.10;
682.80,180,40.26;
689.80,190,42.10;
690.40,190,42.26;
691.00,190,42.43;
689.80,190,42.10;
691.00,190,42.43;
690.20,190,42.21;
689.00,190,41.89;
690.80,190,42.37;
689.00,190,41.89;
689.40,190,41.99;
690.60,190,42.32;
690.00,190,42.16;
690.40,190,42.26;
690.00,190,42.16;
689.40,190,41.99;
690.80,190,42.37;
690.20,190,42.21;
691.20,190,42.48;
690.20,190,42.21;
689.60,190,42.05;
690.80,190,42.37;
690.20,190,42.21;
697.00,200,44.11;
698.00,200,44.40;
698.00,200,44.40;
697.00,200,44.11;
698.20,200,44.46;
697.00,200,44.11;
698.00,200,44.40;
697.40,200,44.22;
696.80,200,44.05;
697.60,200,44.28;
696.80,200,44.05;
697.40,200,44.22;
698.00,200,44.40;
697.20,200,44.17;
697.40,200,44.22;
697.80,200,44.34;
696.80,200,44.05;
698.00,200,44.40;
696.40,200,43.94;
697.00,200,44.11;
697.60,200,44.28;
697.40,200,44.22;
704.00,210,46.18;
705.20,210,46.54;
704.60,210,46.36;
705.00,210,46.48;
704.20,210,46.24;
703.80,210,46.12;
704.40,210,46.30;
704.00,210,46.18;
704.20,210,46.24;
705.20,210,46.54;
704.40,210,46.30;
704.60,210,46.36;
703.80,210,46.12;
704.40,210,46.30;
705.00,210,46.48;
703.80,210,46.12;
704.60,210,46.36;
704.20,210,46.24;
704.00,210,46.18;
705.00,210,46.48;
704.20,210,46.24;
704.00,210,46.18;
711.00,220,48.37;
710.60,220,48.24;
711.40,220,48.50;
711.00,220,48.37;
710.80,220,48.30;
710.80,220,48.30;
710.80,220,48.30;
710.20,220,48.11;
710.20,220,48.11;
710.20,220,48.11;
711.20,220,48.43;
710.40,220,48.18;
710.80,220,48.30;
711.00,220,48.37;
710.40,220,48.18;
710.80,220,48.30;
711.20,220,48.43;
711.00,220,48.37;
711.20,220,48.43;
710.20,220,48.11;
711.20,220,48.43;
711.20,220,48.43;
716.60,230,50.22;
717.20,230,50.42;
716.80,230,50.28;
717.00,230,50.35;
717.20,230,50.42;
716.80,230,50.28;
716.40,230,50.15;
717.20,230,50.42;
716.60,230,50.22;
717.00,230,50.35;
716.00,230,50.01;
716.00,230,50.01;
716.20,230,50.08;
716.40,230,50.15;
716.60,230,50.22;
716.20,230,50.08;
716.20,230,50.08;
717.00,230,50.35;
716.40,230,50.15;
716.20,230,50.08;
717.00,230,50.35;
716.00,230,50.01;
721.60,240,51.94;
723.00,240,52.44;
722.60,240,52.30;
722.80,240,52.37;
722.60,240,52.30;
722.00,240,52.09;
722.40,240,52.23;
722.20,240,52.16;
722.40,240,52.23;
722.20,240,52.16;
722.60,240,52.30;
722.60,240,52.30;
721.60,240,51.94;
722.80,240,52.37;
722.40,240,52.23;
722.40,240,52.23;
722.20,240,52.16;
721.40,240,51.87;
722.40,240,52.23;
722.80,240,52.37;
722.00,240,52.09;
722.60,240,52.30;
727.60,250,54.12;
727.80,250,54.19;
727.60,250,54.12;
727.60,250,54.12;
728.00,250,54.27;
728.00,250,54.27;
727.60,250,54.12;
727.40,250,54.05;
727.60,250,54.12;
727.80,250,54.19;
728.00,250,54.27;
727.80,250,54.19;
727.80,250,54.19;
728.00,250,54.27;
728.00,250,54.27;
727.00,250,53.90;
727.40,250,54.05;
727.00,250,53.90;
728.00,250,54.27;
727.80,250,54.19;
727.60,250,54.12;
727.60,250,54.12;
];

% R1 = 10;
% m = -0.692;
% b = 1.808;

AR = values(:,1);
PWM = values(:,2);
lux = values(:,3);

vldr = 5-(AR*5/1023);

% F = (R1*vldr)./(vldr);
% f = log10(F);
% lux_lido = 10.^((f-b)./m);

t = linspace(0,2.5,length(PWM));

figure
plot(t,PWM)
title('PWM stair')
figure
plot(t,AR)
title('Values from Arduino Analog Read')
figure
plot(t,vldr);
title('Voltage in the LDR')
figure
plot(t,lux)
title('Lux values computed')

figure
plot(PWM,vldr)
title('Voltage in the LDR function of PWM stair')

figure
plot(PWM,1023-AR)
title('Voltage in the LDR as measured by the ADC function of PWM stair')

figure
plot(PWM,lux)
title('Lux values computed function of PWM stair')


